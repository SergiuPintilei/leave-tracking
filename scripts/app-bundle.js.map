{"version":3,"sources":["app.js","calendar.js","dash.js","environment.js","main.js","reports.js","add-request/add-request.js","api/api.js","login/auth-service.js","models/user-model.js","navs/top-nav.js","profile/profile.js","resources/index.js","services/leave-service.js","services/user-service.js","util/constants.js","resources/value-converters/date-format.js","resources/value-converters/humanize-leave.js"],"names":["App","configureRouter","config","router","title","map","route","name","moduleId","nav","settings","icon","Calendar","leaveService","isLoading","calendar","attached","getApprovedLeaves","then","displayCalendar","leaves","events","$","tmpl_path","events_source","modal_type","tmpl_cache","modal","view","weekbox","views","day","enable","merge_holidays","holidays","onAfterViewLoad","text","getTitle","removeClass","addClass","switchViewTo","navigateTo","navigate","Dash","activate","leaveRequests","getLeaveRequests","allRequests","result","computeBadge","requestStatus","APPROVED","REJECTED","PENDING","showExtra","extra","workDays","debug","testing","configure","aurelia","use","standardConfiguration","plugin","options","version","lock","enableEscClose","feature","developmentLogging","start","setRoot","Reports","ANNUAL","SICK","PARENTING","UNPAID","STUDY","HALF_DAY","AddRequest","dateFormat","allowedDate","subtract","toDate","end","pickerOptions","calendarWeeks","showTodayButton","showClose","daysOfWeekDisabled","format","minDate","widgetPositioning","horizontal","selectedLeave","leaveTypes","value","option","sPickChanged","sPick","onChange","e","ePick","methods","date","computeDiff","onHide","show","ePickChanged","that","fr","to","dateDiff","weekDays","console","log","submit","canSave","addLeaveRequest","leaveType","Api","AuthService","auth","login","isAuthenticated","UserModel","data","Object","assign","hello","id","TopNav","userService","dialogService","user","getUser","isLogged","openProfile","open","viewModel","model","Profile","userLoaded","globalResources","LeaveService","status","approvedLeaves","valueOf","Promise","resolve","reject","setTimeout","request","push","UserService","place","email","avatar","department","project","totalDaysPerYear","remaining","taken","REQUEST_STATUS","LEAVE_TYPES","HUMAN_LEAVE_TYPES","DateFormatValueConverter","toView","HumanizeLeaveValueConverter"],"mappings":"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","file":"app-bundle.js","sourcesContent":["export class App {\n    configureRouter(config, router){\n        config.title = 'Leave tracker';\n\n        config.map([\n            {\n                route: ['','home'],\n                name: 'home',\n                moduleId: './dash',\n                nav: true,\n                title:'Home',\n                settings: {\n                    icon: 'time'\n                }\n            },\n            {\n                route: 'reports',\n                name: 'reports',\n                moduleId: './reports',\n                nav: true,\n                title:'Reports',\n                settings: {\n                    icon: 'list-alt'\n                }\n            },\n            {\n                route: 'calendar',\n                name: 'calendar',\n                moduleId: './calendar',\n                nav: true,\n                title:'Calendar',\n                settings: {\n                    icon: 'list-alt'\n                }\n            },\n            {\n                route: 'add-request',\n                name: 'add-request',\n                moduleId: './add-request/add-request',\n                nav: true,\n                title:'Add request',\n                settings: {\n                    icon: 'plus'\n                }\n            },\n        ]);\n\n        this.router = router;\n    }\n}\n","import {inject} from 'aurelia-framework';\nimport {LeaveService} from './services/leave-service'\n\n@inject(LeaveService)\nexport class Calendar {\n    isLoading = true;\n    calendar ={}\n    constructor(leaveService) {\n        this.leaveService = leaveService;\n    }\n\n    attached() {\n        this.leaveService.getApprovedLeaves().then(leaves => {\n            this.isLoading = false;\n            this.displayCalendar(leaves);\n        });\n    }\n\n    displayCalendar(events) {\n        this.calendar = $('#calendar').calendar(\n            {\n                tmpl_path: \"bootstrap-calendar/tmpls/\",\n                events_source: events,\n                modal_type: 'template',\n                tmpl_cache: true,\n                modal: '#events-modal',\n                view: 'month',\n                weekbox: false,\n                views: {\n                    day: {\n                        enable: 0\n                    }\n                },\n                merge_holidays: false,\n                holidays: {\n                },\n                onAfterViewLoad: function(view) {\n                    $('.page-header h3').text(this.getTitle());\n                    $('.btn-group button').removeClass('active');\n                    $('button[data-calendar-view=\"' + view + '\"]').addClass('active');\n                }\n            }\n      );\n    }\n\n    switchViewTo(view) {\n        this.calendar.view(view);\n    }\n    navigateTo(nav) {\n        this.calendar.navigate(nav);\n    }\n}","import { inject } from 'aurelia-framework';\nimport { LeaveService } from './services/leave-service';\nimport { REQUEST_STATUS } from './util/constants';\n\n@inject(LeaveService)\nexport class Dash {\n    constructor(leaveService) {\n      this.leaveService = leaveService;\n    }\n\n    activate() {\n     this.leaveRequests();\n    }\n\n    leaveRequests() {\n        return this.leaveService.getLeaveRequests().then(result => this.allRequests = result);\n    }\n\n    computeBadge(requestStatus) {\n        switch(requestStatus) {\n            case REQUEST_STATUS.APPROVED:\n                return 'list-group-item-success';\n            case REQUEST_STATUS.REJECTED:\n                return 'list-group-item-danger';\n            case REQUEST_STATUS.PENDING:\n                return 'list-group-item-info';\n        }\n    }\n\n    showExtra(extra) {\n        return extra.workDays > 1 ? true : false;\n    }\n}\n","export default {\n  debug: true,\n  testing: true\n};\n","import environment from './environment';\nimport moment from 'moment'\nexport function configure(aurelia) {\n\n    aurelia.use\n      .standardConfiguration()\n      .plugin('aurelia-bootstrap', config => config.options.version = 4)\n      .plugin('aurelia-bootstrap-datetimepicker')\n      .plugin('aurelia-validation')\n      .plugin('aurelia-bootstrap-select')\n      .plugin('aurelia-dialog', config => {\n        config.settings.lock = false;\n        config.settings.enableEscClose = true;\n      })\n      .feature('resources');\n\n  if (environment.debug) {\n    aurelia.use.developmentLogging();\n  }\n\n  if (environment.testing) {\n    aurelia.use.plugin('aurelia-testing');\n  }\n\n  aurelia.start().then(() => aurelia.setRoot());\n}\n","export class Reports {\n\n}\n","import { bindable, inject } from 'aurelia-framework';\nimport { LeaveService } from '../services/leave-service';\nimport moment from 'moment'\nimport business from 'moment-business';\nimport { LEAVE_TYPES, HUMAN_LEAVE_TYPES } from '../util/constants';\n\nconst { ANNUAL, SICK, PARENTING, UNPAID, STUDY, HALF_DAY } = LEAVE_TYPES;\n\n@inject(LeaveService)\nexport class AddRequest {\n    @bindable sPick;\n    @bindable ePick;\n\n    constructor(leaveService) {\n        this.leaveService = leaveService;\n    }\n\n    dateFormat = 'YYYY-MM-DD';\n    allowedDate = moment().subtract(1, \"days\").toDate();\n    start = moment().toDate();\n    end = moment().toDate();\n\n    pickerOptions = {\n        calendarWeeks: true,\n        showTodayButton: true,\n        showClose: true,\n        daysOfWeekDisabled: [0, 6], // we disable saturday & sunday\n        format: this.dateFormat,\n        minDate: this.allowedDate,\n        widgetPositioning: {\n            horizontal: 'left'\n        }\n    };\n\n    selectedLeave = {};\n    leaveTypes = [\n        { value: ANNUAL , option: HUMAN_LEAVE_TYPES[ANNUAL] },\n        { value: SICK, option: HUMAN_LEAVE_TYPES[SICK] },\n        { value: PARENTING, option: HUMAN_LEAVE_TYPES[PARENTING] },\n        { value: STUDY, option: HUMAN_LEAVE_TYPES[STUDY] },\n        { value: UNPAID, option: HUMAN_LEAVE_TYPES[UNPAID] },\n        { value: HALF_DAY, option: HUMAN_LEAVE_TYPES[HALF_DAY] }\n    ];\n\n    sPickChanged() {\n        this.sPick.events.onChange = (e) => {\n            this.ePick.methods.minDate(e.date);\n            this.start = e.date.toDate();\n            this.computeDiff();\n        }\n\n        this.sPick.events.onHide = (e) => {\n            this.ePick.methods.show();\n        }\n    }\n    ePickChanged() {\n        const that = this;\n        this.ePick.events.onChange = (e) => {\n            this.end = e.date.toDate();\n            this.computeDiff();\n        }\n    }\n\n    attached() {\n        // this.computeDiff();\n    }\n\n    computeDiff() {\n        const fr = moment(this.start);\n        const to = moment(this.end);\n\n        this.dateDiff = business.weekDays(fr,to) + 1;\n\n        console.log('from', fr)\n        console.log('to', to)\n    }\n\n    get canSave() {\n        return this.start && this.end && this.dateDiff >= 1;\n    }\n\n    submit() {\n        if (this.canSave) {\n            console.log('adding', this.start, this.end, this.dateDiff)\n            this.leaveService.addLeaveRequest({\n                leaveType: this.selectedLeave[0],\n                start: this.start,\n                end: this.end,\n                workDays: this.dateDiff\n            });\n\n            this.start = moment().toDate();\n            this.end = moment().toDate();\n            this.dateDiff = 0;\n        }\n    }\n}\n","export class Api {\n\n}\n","import { OAuthService } from 'aurelia-oauth';\nimport { inject } from 'aurelia-framework';\n\n@inject(OAuthService)\nexport class AuthService {\n    constructor(auth) {\n        this.auth = auth;\n    }\n\n    login() {\n        return this.auth.login();\n    }\n\n    get isLogged() {\n        return this.auth.isAuthenticated();\n    }\n}","export class UserModel {\n    constructor(data) {\n        Object.assign(this, data);\n    }\n\n     hello() {\n        return this.name + ' | ' + this.id;\n    }\n}","import { inject, bindable } from 'aurelia-framework';\nimport { DialogService } from 'aurelia-dialog';\nimport { UserService } from '../services/user-service';\nimport { Profile } from '../profile/profile';\n\n@inject(UserService, DialogService)\nexport class TopNav {\n    @bindable router;\n\n  constructor(userService, dialogService) {\n    this.user = {};\n    this.userService = userService;\n    this.dialogService = dialogService;\n\n    this.userService.getUser().then(user => this.user = user);\n\n    // mock auth to logged in state\n    this.auth = {\n        isLogged: true\n        }\n    }\n\n    openProfile() {\n        return this.dialogService.open({ viewModel: Profile, model: 'Good or Bad?'});\n    }\n}\n","import { inject } from 'aurelia-framework';\nimport { UserService } from '../services/user-service';\n\n@inject(UserService)\nexport class Profile {\n    constructor(userService) {\n        this.user = {};\n        this.userLoaded = false;\n        this.userService = userService;\n\n        this.userService.getUser().then(user => {\n            this.user = user;\n            this.userLoaded = true;\n        });\n    }\n}\n","export function configure(config) {\n    config.globalResources(\n        './value-converters/date-format',\n        './value-converters/humanize-leave',\n        './elements/spinner/spinner.html'\n    );\n}\n","import moment from 'moment';\n\nexport class LeaveService {\n    leaveRequests = [\n                {\n                    workDays: 1,\n                    start: 'Wed Apr 12 2017 00:00:00 GMT+0300 (EEST)',\n                    end: 'Wed Apr 13 2017 00:00:00 GMT+0300 (EEST)',\n                    status: 'approved'\n                },\n                {\n                    workDays: 2,\n                    start: 'Wed Apr 12 2017 00:00:00 GMT+0300 (EEST)',\n                    end: 'Wed Apr 14 2017 00:00:00 GMT+0300 (EEST)',\n                    status: 'rejected'\n                },\n                {\n                    workDays: 3,\n                    start: 'Wed Apr 12 2017 00:00:00 GMT+0300 (EEST)',\n                    end: 'Wed Apr 15 2017 00:00:00 GMT+0300 (EEST)',\n                    status: 'pending'\n                }\n            ];\n\n    approvedLeaves = [\n        {\n            \"id\": 1,\n            \"title\": \"Jane\",\n            \"url\": \"http://example.com\",\n            \"class\": \"event-important\",\n            \"start\": moment().subtract(2, 'days').toDate().valueOf(), // Milliseconds\n            \"end\": moment().valueOf() // Milliseconds\n        },\n        {\n            \"id\": 2,\n            \"title\": \"John\",\n            \"url\": \"http://example.com\",\n            \"class\": \"event-special\",\n            \"start\": moment().valueOf(), // Milliseconds\n            \"end\": moment().valueOf() // Milliseconds\n        }\n    ];\n\n    getLeaveRequests() {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve(this.leaveRequests);\n            }, 500);\n        });\n    }\n\n    addLeaveRequest(request) {\n        const { start, end, workDays, leaveType } = request;\n        console.log('saving', request);\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                this.leaveRequests.push({\n                    leaveType,\n                    start,\n                    end,\n                    workDays,\n                    status: 'pending'\n                });\n            }, 500)\n        });\n    }\n\n    getApprovedLeaves() {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve(this.approvedLeaves);\n            }, 1000)\n        })\n    }\n}\n","import { UserModel } from '../models/user-model';\n\nexport class UserService {\n    user = {\n        id: 'unu-doi-trei',\n        name: 'my awesome name',\n        place: 'romanica',\n        email: 'my@awesome.list',\n        avatar: 'http://babyinfoforyou.com/wp-content/uploads/2014/10/avatar-300x300.png',\n        department: 'QA/DEV/Lead',\n        project: 'Bamboo',\n        totalDaysPerYear: 24,\n        remaining: 10,\n        taken: 14\n    };\n\n    getUser() {\n        return new Promise((resolve, reject) => {\n            setTimeout(() => {\n                resolve(new UserModel(this.user));\n            }, 500)\n        });\n    }\n}\n","export const REQUEST_STATUS = {\n    APPROVED: 'approved',\n    REJECTED: 'rejected',\n    PENDING: 'pending'\n}\n\nexport const LEAVE_TYPES = {\n    ANNUAL: 'annual-leave',\n    SICK: 'sick-leave',\n    PARENTING: 'parenting-leave',\n    UNPAID: 'unpaid-leave',\n    STUDY: 'study-leave',\n    HALF_DAY: 'half-day-leave'\n}\n\nexport const HUMAN_LEAVE_TYPES = {\n    'annual-leave': 'Annual Leave',\n    'sick-leave': 'Sick Leave',\n    'parenting-leave': 'Parenting Leave',\n    'unpaid-leave': 'Unpaid Leave',\n    'study-leave': 'Study Leave',\n    'half-day-leave': 'Half Day Off'\n}\n","import moment from 'moment';\n\nexport class DateFormatValueConverter {\n  toView(value) {\n    return moment(value).format('M/D/YYYY');\n  }\n}","import { HUMAN_LEAVE_TYPES } from '../../util/constants';\n\nexport class HumanizeLeaveValueConverter {\n  toView(value) {\n    return HUMAN_LEAVE_TYPES[value];\n  }\n}"],"sourceRoot":".."}